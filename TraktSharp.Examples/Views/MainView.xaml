<Window x:Class="TraktSharp.Examples.Views.MainView"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:vm="clr-namespace:TraktSharp.Examples.ViewModels"
        d:DataContext="{d:DesignInstance Type=vm:MainViewModel, IsDesignTimeCreatable=True}"
        mc:Ignorable="d"
		Closing="Window_Closing"
        Title="TraktSharp Examples" Width="1000" Height="600" MinWidth="800" MinHeight="400" Icon="/Icons/TraktSharp.ico">
	<Window.Resources>
		<Style x:Key="OutputTextBoxStyle" TargetType="TextBox">
			<Setter Property="IsReadOnly" Value="True" />
			<Setter Property="Padding" Value="10" />
			<Setter Property="Background" Value="Transparent" />
			<Setter Property="BorderThickness" Value="0" />
			<Setter Property="FontFamily" Value="Consolas" />
		</Style>
		<Style x:Key="OutputScrollViewerStyle" TargetType="ScrollViewer">
			<Setter Property="VerticalScrollBarVisibility" Value="Auto" />
			<Setter Property="HorizontalScrollBarVisibility" Value="Auto" />
			<Setter Property="Background" Value="White" />
		</Style>
		
	</Window.Resources>
	<Grid>
		<TabControl Margin="10" SelectedIndex="{Binding SelectedMainTab}">
			<TabItem Header="Authenticate">
				<StackPanel Margin="10" VerticalAlignment="Top">
					<WrapPanel Margin="5">
						<Label Width="120" HorizontalContentAlignment="Right" Content="Username:" />
						<TextBox Width="500" VerticalContentAlignment="Center" Margin="10,0,0,0" Text="{Binding Username}" />
					</WrapPanel>
					<WrapPanel Margin="5">
						<Label Width="120" HorizontalContentAlignment="Right" Content="Client ID:" />
						<TextBox Width="500" VerticalContentAlignment="Center" Margin="10,0,0,0" Text="{Binding ClientId}" />
					</WrapPanel>
					<WrapPanel Margin="5">
						<Label Width="120" HorizontalContentAlignment="Right" Content="Client Secret:" />
						<TextBox Width="500" VerticalContentAlignment="Center" Margin="10,0,0,0" Text="{Binding ClientSecret}" />
					</WrapPanel>
					<WrapPanel  Margin="135,5,5,5">
						<Button Content="Authorize" Width="Auto" Height="30" Padding="20 0" Click="Authorize_Click" IsEnabled="{Binding CanAuthorize}" />
						<Label Content="Enter client secret to enable authorization" Visibility="{Binding CanAuthorize, Converter={StaticResource InverseBoolToVisConverter}}" />
					</WrapPanel>
					<WrapPanel Margin="5">
						<Label Width="120" HorizontalContentAlignment="Right" Content="Authorization Code:" />
						<TextBox Width="500" VerticalContentAlignment="Center" Margin="10,0,0,0" Text="{Binding AuthorizationCode, Mode=OneWay}" IsReadOnly="True" />
					</WrapPanel>
					<WrapPanel Margin="5">
						<Label Width="120" HorizontalContentAlignment="Right" Content="Access Token:" />
						<TextBox Width="500" VerticalContentAlignment="Center" Margin="10,0,0,0" Text="{Binding AccessToken.AccessToken, Mode=OneWay}" IsReadOnly="True" />
					</WrapPanel>
				</StackPanel>
			</TabItem>
			<TabItem Header="Test API Methods">
				<DockPanel Margin="10">
					<WrapPanel DockPanel.Dock="Top">
						<ComboBox ItemsSource="{Binding TestRequestTypes}" SelectedValue="{Binding SelectedTestRequestType}"
								  Margin="0 0 10 0" Width="600" Height="30" VerticalContentAlignment="Center" />
						<Button Content="Test Request" Width="Auto" Height="30" Padding="20 0" Click="TestRequest_Click" HorizontalAlignment="Left" />
					</WrapPanel>
					<TabControl Margin="0,10,0,0" SelectedIndex="{Binding SelectedResponseTab}">
						<TabItem Header="Raw Request">
							<ScrollViewer Style="{StaticResource OutputScrollViewerStyle}">
								<TextBox Text="{Binding LastRequest, Mode=OneWay}" Style="{StaticResource OutputTextBoxStyle}"/>
							</ScrollViewer>
						</TabItem>
						<TabItem Header="Raw Response">
							<ScrollViewer Style="{StaticResource OutputScrollViewerStyle}">
								<TextBox Text="{Binding LastResponse, Mode=OneWay}" Style="{StaticResource OutputTextBoxStyle}" TextWrapping="Wrap"/>
							</ScrollViewer>
						</TabItem>
						<TabItem Header="Response JSON">
							<ScrollViewer Style="{StaticResource OutputScrollViewerStyle}">
								<TextBox Text="{Binding LastResponseJson, Mode=OneWay}" Style="{StaticResource OutputTextBoxStyle}"/>
							</ScrollViewer>
						</TabItem>
						<TabItem Header="Returned Value">
							<ScrollViewer Style="{StaticResource OutputScrollViewerStyle}">
								<TextBox Text="{Binding LastReturnedValue, Mode=OneWay}" Style="{StaticResource OutputTextBoxStyle}"/>
							</ScrollViewer>
						</TabItem>
					</TabControl>
				</DockPanel>
			</TabItem>
		</TabControl>
	</Grid>
</Window>